<html>
<head>
<title>SSO test page</title>
<script type='text/javascript' src="debug.js"></script>
<script type='text/javascript' src="script.js"></script>
<script type='text/javascript' src="fb.js"></script>
<script type='text/javascript' src="qunit-1.18.0.js"></script>
<script type='text/javascript' src="qunit-reporter-junit.js"></script>
<link rel="stylesheet" href="qunit-1.18.0.css">
<style type="text/css">
	      body, html {
	          height: 100%;
	          margin: 0;
	          -webkit-font-smoothing: antialiased;
	          font-weight: 100;
	      }
	      
	      .tabs input[type=radio] {
	          position: absolute;
	          top: -9999px;
	          left: -9999px;
	      }
	      .tabs {
	        width: 800px;
	        float: none;
	        list-style: none;
	        position: relative;
	        padding: 0;
	        margin: 75px auto;
	      }
		  
		  .message_container
		  {
	        width: 800px;
	        float: none;
	        list-style: none;
	        position: relative;
	        padding: 0;
	        margin: 75px auto;

			margin-top: 5px;
			margin-bottom: 5px;
		  }
		  
		  .message_container table {
		  border-width: 0px;
		  }
		  
		  div.message_container td {
		  border-width: 0px;
		  padding: 5px;
		  }
		  
		  .message_container table tr {
		  background: rgba(253, 242, 217, 1);
		  border-color: rgba(253, 242, 217, 1);
		  padding 5px;
		  }
		  
	      .tabs li{
	        float: left;
	      }
		  
	      .tabs label {
	          display: block;
	          padding: 10px 20px;
	          border-radius: 2px 2px 0 0;
	          color: #08C;
	          font-size: 24px;
	          font-weight: normal;
	          font-family: 'Roboto', helveti;
	          background: rgba(255,255,255,0.2);
	          cursor: pointer;
	          position: relative;
	          top: 3px;
	          -webkit-transition: all 0.2s ease-in-out;
	          -moz-transition: all 0.2s ease-in-out;
	          -o-transition: all 0.2s ease-in-out;
	          transition: all 0.2s ease-in-out;
	      }
	      .tabs label:hover {
	        background: rgba(255,255,255,0.5);
	        top: 0;
	      }
	      
	      [id^=tab]:checked + label {
	        background: #08C;
	        color: white;
	        top: 0;
	      }
	      
	      [id^=tab]:checked ~ [id^=tab-content] {
	          display: block;
			  visibility: visible;
	      }
	      .tab-content {
	        z-index: 2;
			visibility: hidden;
<!--	        display: none; -->
	        text-align: left;
	        width: 100%;
	        font-size: 20px;
	        line-height: 140%;
	        padding-top: 10px;
	        background: #08C;
	        padding: 15px;
	        color: white;
	        position: absolute;
	        top: 53px;
	        left: 0;
	        box-sizing: border-box;
	        -webkit-animation-duration: 0.5s;
	        -o-animation-duration: 0.5s;
	        -moz-animation-duration: 0.5s;
	        animation-duration: 0.5s;
	      }
		  
		  div.label {
			color: yellow;
			padding: 10px,0,10px,10px;
			font-size: 20px;
		  }
	    </style></head>
<body onload="pageScript.main()" >

  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
<!--script type='text/javascript' src="tests.js"></script-->
			<button type="button" id="Unit_test_button" onclick="javascript:pageScript.unittest()">Run unit tests</button>
			<div class="main">
				<div class="message_container"> <!-- Output container -->
					<table width="100%" >
						<tr>
							<td>
								<p>Státusz</p>
							</td>
							<td>
								<div id="status">
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<p>Hibaüzenet</p>
							</td>
							<td>
								<div id="errorMsg">
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<p>Üzenet</p>
							</td>
							<td>
								<div id="message">
								</div>
							</td>
						</tr>
						<tr>
							<td>
								<p>Felhasználói adatok</p>
							</td>
							<td>
								<div id="userdata">
								</div>
							</td>
						</tr>
					</table>
				</div>
	        	<ul class="tabs">
			        <li>
			          <input type="radio" checked name="tabs" id="tab1">
			          <label for="tab1">Login</label>
			          <div id="tab-content1" class="tab-content animated fadeIn">
						<p>Bejelentkezési lehetõségek</p>
			            <button type="button" id="Facebook_login_button" onclick="facebook.fblogin()">Facebook Login</button>
						<hr/>
						<div class="formrow">
							<button type="button">
								<a id="ssl_login" href="javascript:pageScript.sslLogin()" style="text-decoration: none; color: black;">SSL Login</a>
							</button>
							<div id="sslLoginDiv"></div>
						</div>
						<hr/>
						<div>
							<form id="loginform" action="javascript:pageScript.login()" method="post" name="login">
								<table>
									<tr>
										<td width="30%">
											<div class="formrow">
												<div class="label" id="LoginForm_username_label">
													Felhasználó név:
												</div>
												<input name="username" type="text" id="LoginForm_username_input"/>
											</div>
										</td>
										<td width="30%">
											<div class="formrow">
												<div class="label" id="LoginForm_password_label">
													Jelszó:
												</div>
												<input name="username" type="password" id="LoginForm_password_input"/>
											</div>
										</td>
										<td>
											<div class="formrow">
												<input type="submit" value="Login" id="LoginForm_submitButton">
											</div>
										</td>
									</tr>
								</table>
							</form>
						</div>
			          </div>
			        </li>
					<li>
			          <input type="radio" checked name="tabs" id="tab2">
			          <label for="tab2">Regisztráció</label>
			          <div id="tab-content1" class="tab-content animated fadeIn">
						<p>Regisztrálási lehetõségek</p>
						<button type="button" id="Facebook_registration_button" onclick="facebook.fbregister()">Facebook Registration</button>
						<hr/>
						<form id="RegistrationForm" action="javascript:pageScript.register()" method="post" name="register">
							<div class="formrow">
								<div class="label" id="RegistrationForm_credentialType_label">
									A hitelesítés típusa:
								</div>
								<select name="credentialType" type="text" id="RegistrationForm_credentialType_input">
									<option>jelszó</option>
								</select>
							</div>
							<div class="formrow">
								<div class="label" id="RegistrationForm_identifier_label">
									* felhasználónév:
								</div>
								<input name="identifier" type="text" id="RegistrationForm_identifier_input"/>
							</div>
							<div class="formrow">
								<div class="label" id="RegistrationForm_email_label">
									* e-mail cím:
								</div>
								<input name="email" type="text" id="RegistrationForm_email_input"/>
							</div>
							<div class="formrow">
								<div class="label" id="RegistrationForm_predigest_label">
									személyi szám:
								</div>
								<input name="digest" type="text" id="RegistrationForm_predigest_input"></input>
								<button type="button" id="RegistrationForm_getDigestButton" onclick="pageScript.digestGetter('RegistrationForm').getDigest()">Generate Hash</button>
							</div>
							<div class="formrow">
								<div class="label" id="RegistrationForm_digest_label">
									titkos kód:
								</div>
								<input name="email" type="text" id="RegistrationForm_digest_input"/>
							</div>
							<div class="formrow">
								<div class="label" id="RegistrationForm_secret_label">
									jelszó:
								</div>
								<input name="secret" type="password" id="RegistrationForm_secret_input"/>
							</div>
							<div class="formrow">
								<input type="submit" value="Register" id="RegistrationForm_submitButton">
							</div>
						</form>
						<hr/>
						<p>Belépés böngészõben tárolt SSL jogosítvánnyal</p>
						<form id="keygenform" method="post" action="/keygen">
							<div class="formrow">
								<div class="label" id="KeygenForm_pubkey_label">
									a kulcs mérete:
								</div>
								<keygen name="pubkey" challenge="123456789" keytype="RSA">
							</div>
							<div class="formrow">
								<div class="label" id="KeygenForm_email_label">
									e-mail cím:
								</div>
							</div>
							<input name="email" type="text" id="KeygenForm_email_input"/>
							<div class="formrow">
								<input id="KeygenForm_createuser_input" type="checkbox" name="createUser" value="true">Create User<br>
							</div>
							<div class="formrow">
								<input id="KeygenForm_submit" type="submit" name="createcert" value="Jogosítvány elõállítása">
							</div>
						</form>
			          </div>
			        </li>
			        <li>
			          <input type="radio" name="tabs" id="tab3">
			          <label for="tab3">Ellenõröknek</label>
			          <div id="tab-content2" class="tab-content animated fadeIn">
						<p>Felhasználó adatainak lekérdezése</p>
						<form id="ByEmailForm" action="javascript:pageScript.byEmail()" method="post" name="byEmail">
							<div class="formrow">
								<div class="label" id="ByEmailForm_email_label">
									e-mail cím:
								</div>
								<input name="email" type="text" id="ByEmailForm_email_input"/>
								<div class="formrow">
									<input type="submit" value="Mutasd" id="ByEmailForm_submitButton"></input>
								</div>
							</div>
						</form>
						<hr/>
						<p>Felhasználó ellenõrzése</p>
						<form id="AddAssuranceForm" action="javascript:pageScript.addAssurance()" method="post" name="addAssurance">
							<div class="formrow">
								<div class="label" id="AddAssuranceForm_predigest_label">
									személyi szám:
								</div>
								<input name="digest" type="text" id="AddAssuranceForm_predigest_input"></input>
								<button type="button" id="AddAssuranceForm_getDigestButton" onclick="pageScript.digestGetter('AddAssuranceForm').getDigest()">Titkos kód generálása</button>
							</div>
							<div class="formrow">
								<div class="label" id="AddAssuranceForm_digest_label">
									titkós kód:
								</div>
								<input name="digest" type="text" id="AddAssuranceForm_digest_input"/>
							</div>
							<div class="formrow">
								<div class="label" id="AddAssuranceForm_assurance_label">
									ellenõrzési szint:
								</div>
								<input name="assurance" type="text" id="AddAssuranceForm_assurance_input"/>
							</div>
							<div class="formrow">
								<div class="label" id="AddAssuranceForm_email_label">
									e-mail cím:
								</div>
								<input name="email" type="text" id="AddAssuranceForm_email_input"/>
							</div>
							<div class="formrow">
								<input type="submit" value="Add Assurance" id="AddAssuranceForm_submitButton">
							</div>
						</form>
			          </div>
			        </li>
			        <li>
			          <input type="radio" name="tabs" id="tab4">
			          <label for="tab4">Fiókom</label>
			          <div id="tab-content3" class="tab-content animated fadeIn">
						<p>Kijelentkezés</p>
						  	<button type="button" id="logout_button" onclick="javascript:pageScript.logout()">Logout</button>
						<hr/>
						<p>Adataim megjelenítése</p>
						  	<div class="formrow">
								<button type="button">
									<a id="melink" style="text-decoration: none; color: black;" href="javascript:pageScript.ajaxget('/v1/users/me',pageScript.myCallback)">Adataim</a>
								</button>
							</div>
						<hr/>
						<p>Titkos kód cseréje/hozzáadása</p>
						A személyi számot nem tárolja a rendszer. Egy titkosított un. hash-t (titkos kódot) generálunk belõle, amibõl a személyi szám nem nyerhetõ vissza
						<p>Figyelmeztetés! A hash megváltoztatásával az összes eddigi validálási információ elvész.</p>
						<form id="ChangeHashForm" action="javascript:pageScript.changeHash()" method="post" name="addAssurance">
							<div class="formrow">
								<div class="label" id="ChangeHashForm_predigest_label">
								személyi szám:
								</div>
								<input name="digest" type="text" id="ChangeHashForm_predigest_input"></input>
								<button type="button" id="ChangeHashForm_getDigestButton" onclick="pageScript.digestGetter('ChangeHashForm').getDigest()">Titkos kód elõállítása</button>
							</div>
							<div class="formrow">
								<div class="label" id="ChangeHashForm_digest_label">
								titkos kód:
								</div>
								<input name="digest" type="text" id="ChangeHashForm_digest_input"/>
							</div>
							<div class="formrow">
								<input type="submit" value="Mehet" id="ChangeHashForm_submitButton"></input>
							</div>
						</form>
						<hr/>
						<p>Jelszó csere</p>
						<form id="PasswordResetForm" action="javascript:pageScript.passwordReset()" method="post" name="PasswordResetForm">
							<input name="secret" type="text" id="PasswordResetForm_secret_input"/>
							<div class="formrow">
								<div class="label" id="PasswordResetForm_password_label">
								Új jelszó:
								</div>
								<input name="password" type="password" id="PasswordResetForm_password_input"/>
							</div>
							<div class="formrow">
								<input type="submit" value="Mehet" id="PasswordResetForm_submitButton">
							</div>
						</form>
			          </div>
			        </li>
			    </ul>
	      	</div>
			<div id="qunit-xml" class="message_container">qunit-xml: ide mi fog jönni?</div>
</body>
</html>
