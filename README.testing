To setup (and reset) testing environment, type
make testsetup

to run test, just type

make

The test harness uses an sqlite database file at /tmp/pdoauth.db
If you can rework it to use in-memory sqlite (and initialize it!) I will be thankful.

Please look for FIXMEs for known areas with deficient testing.
And of course more input validation tests are always welcome!
